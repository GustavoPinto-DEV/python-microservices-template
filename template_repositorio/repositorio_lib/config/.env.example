# =============================================================================
# CENTRALIZED CONFIGURATION FILE
# =============================================================================
# This is the SINGLE .env file for the entire project ecosystem.
# All templates (API, Web, Console) read configuration from here.
#
# Location: template_repositorio/repositorio_lib/config/.env
# Loaded by: repositorio_lib.config.settings
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_USER=your_user
DB_PASSWORD=your_password
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_database
DB_ECHO=false

# Connection Pool Settings
POOL_SIZE=10                    # Number of persistent connections
MAX_OVERFLOW=20                 # Maximum overflow connections beyond pool_size
POOL_PRE_PING=true              # Test connection before use (recommended)
POOL_RECYCLE=3600               # Recycle connections after N seconds (1 hour)
POOL_TIMEOUT=30                 # Timeout in seconds for getting connection from pool

# =============================================================================
# JWT AUTHENTICATION (API & Web)
# =============================================================================
SECRET_KEY=your-super-secret-key-change-in-production-minimum-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=120

# =============================================================================
# ENVIRONMENT & LOGGING
# =============================================================================
ENVIRONMENT=dev                 # dev | production

# Log directories (auto-selected based on ENVIRONMENT)
LOG_DIR_DEV=logs                # Development: relative path from project root
LOG_DIR_PRD=/var/log/app/logs   # Production: absolute path

# =============================================================================
# EMAIL / SMTP (Notifications, Reports, Alerts)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_USER=notifications@example.com
SMTP_PASSWORD=your_smtp_app_password
EMAIL_OPERATIONS=operations@example.com
SMTP_USE_TLS=true
SMTP_PORT_TLS=587
SMTP_USE_SSL=false
SMTP_PORT_SSL=465

# =============================================================================
# API TEMPLATE CONFIGURATION (template_api)
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4                   # Number of Uvicorn workers (production)

# Rate Limiting
RATE_LIMIT_REQUESTS=100         # Max requests per window
RATE_LIMIT_WINDOW=60            # Time window in seconds

# =============================================================================
# WEB TEMPLATE CONFIGURATION (template_web)
# =============================================================================
WEB_HOST=0.0.0.0
WEB_PORT=8000
SESSION_SECRET_KEY=your-session-secret-key-change-in-production

# =============================================================================
# CONSOLE TEMPLATE CONFIGURATION (template_consola)
# =============================================================================
MINUTOS_CONSOLA=60              # Interval between batch cycles (minutes)
ENABLE_CONTINUOUS_MODE=false    # true = infinite loop | false = run once and exit
MAX_RETRIES=3                   # Retry attempts per process on failure

# Batch Processing
BATCH_SIZE=100                  # Records to process per batch
ENABLE_PARALLEL_PROCESSING=false # Enable parallel processing of batches

# =============================================================================
# EXTERNAL SERVICES (Uncomment and configure as needed)
# =============================================================================

# External API
# EXTERNAL_API_URL=https://api.external.com
# EXTERNAL_API_KEY=your-api-key
# EXTERNAL_API_TOKEN=your-api-token
# EXTERNAL_API_TIMEOUT=30

# SFTP Configuration
# SFTP_HOST=sftp.example.com
# SFTP_PORT=22
# SFTP_USER=your_sftp_user
# SFTP_PASSWORD=your_sftp_password
# SFTP_INPUT=/input/
# SFTP_OUTPUT=/output/

# Redis (if needed for caching/sessions)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# AWS S3 (if needed for file storage)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# =============================================================================
# DOCKER CONFIGURATION (if applicable)
# =============================================================================
LOG_HOST_PATH=/path/to/logs

# =============================================================================
# IMPORTANT NOTES
# =============================================================================
# 1. DO NOT create .env files in individual templates (api, web, consola)
# 2. All templates import from: repositorio_lib.config.settings
# 3. Access configuration in your code:
#    from repositorio_lib.config.settings import db_settings, jwt_settings, app_settings
# 4. In production, ensure restrictive permissions: chmod 600 .env
# 5. NEVER commit this file with real values to Git
# 6. Use .env.example as template, create real .env with actual values
# 7. Keep .env in .gitignore to prevent accidental commits
# =============================================================================
